<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Soul Reactor v3.8 ‚Äî Creator Mode</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet" />
<style>
:root{
 --gold:#d4af37;--purple:#7c3aed;--bg0:#0b0613;--bg1:#120a21;
 --rainbow:linear-gradient(90deg,#ff0080,#ff8c00,#ffe600,#21d07a,#00b3ff,#7c3aed,#ff0080);
}
*{box-sizing:border-box}
body{margin:0;height:100vh;display:flex;flex-direction:column;
 background:radial-gradient(circle at 50% 30%,rgba(124,58,237,.1),transparent 60%),linear-gradient(180deg,var(--bg1),var(--bg0));
 font-family:Orbitron,sans-serif;color:#fff;overflow:hidden;}
header{display:flex;justify-content:center;align-items:center;gap:10px;padding:8px;flex-wrap:wrap;}
.pill{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.25);}
.btn{background:linear-gradient(90deg,var(--gold),var(--purple));border:none;color:#fff;
 border-radius:12px;padding:8px 14px;cursor:pointer;font-weight:700;box-shadow:0 4px 14px rgba(0,0,0,.4);}
.btn.out{background:transparent;border:1px solid var(--gold);color:var(--gold);}
.xp-wrap{width:min(90vw,960px);margin:8px auto;}
.xp{height:28px;border-radius:999px;position:relative;overflow:hidden;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.15);}
.xp::before{content:"";position:absolute;inset:0;background:var(--rainbow);background-size:400% 100%;filter:blur(6px);opacity:.6;animation:rainbow 10s linear infinite;}
.xp-fill{position:absolute;inset:0;width:0;background:linear-gradient(90deg,var(--gold),var(--purple));transition:width .4s ease;}
.xp-text{position:absolute;inset:0;display:grid;place-items:center;font-size:12px;}
@keyframes rainbow{0%{background-position:0 0}100%{background-position:400% 0}}
.arena{flex:1;display:grid;place-items:center;position:relative;}
.orb{width:min(40vh,300px);aspect-ratio:1;border-radius:50%;
 background:radial-gradient(circle at 50% 45%,#fff6e0,#e1c25b 30%,rgba(124,58,237,.85) 65%,rgba(10,5,20,1) 85%);
 box-shadow:0 0 60px rgba(124,58,237,.6),0 0 140px rgba(212,175,55,.45);
 animation:throb 3s ease-in-out infinite;cursor:pointer;}
@keyframes throb{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}
.controls{display:flex;justify-content:center;gap:12px;padding:12px;}
.modal-bg{position:fixed;inset:0;display:flex;align-items:flex-end;justify-content:center;
 background:rgba(0,0,0,.6);opacity:0;pointer-events:none;transition:opacity .3s ease;}
.modal-bg.active{opacity:1;pointer-events:all;}
.panel{width:100%;max-width:560px;border-radius:20px 20px 0 0;
 background:radial-gradient(900px 700px at 50% 0%,rgba(255,216,109,.65),rgba(106,0,255,.75));
 border-top:2px solid var(--gold);box-shadow:0 -6px 40px rgba(124,58,237,.45);
 transform:translateY(100%);transition:transform .35s ease;padding:18px;}
.modal-bg.active .panel{transform:translateY(0);}
.panel h2{text-align:center;margin:6px 0 10px;text-shadow:0 0 10px rgba(255,255,255,.6);}
.vault-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;}
.card{height:150px;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;
 background:linear-gradient(180deg,#5e00a8,#d9a406);box-shadow:0 0 16px rgba(255,255,255,.4);position:relative;overflow:hidden;cursor:pointer;}
.card img{width:80px;height:80px;border-radius:8px;object-fit:cover;transition:transform .3s ease;}
.card:hover img{transform:scale(1.05);}
.edit-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
 background:rgba(0,0,0,.3);opacity:0;transition:opacity .3s ease;}
.card:hover .edit-overlay,.icon:hover .edit-overlay{opacity:1;}
.edit-overlay::after{content:'‚úèÔ∏è';font-size:26px;animation:spark 3s linear infinite;}
@keyframes spark{0%,100%{opacity:.8;color:#ff0080;}25%{color:#ffe600;}50%{color:#21d07a;}75%{color:#00b3ff;}}
.store-list{display:grid;gap:10px;}
.item{display:flex;align-items:center;gap:14px;padding:10px;border-radius:12px;background:rgba(20,12,36,.45);border:1px solid rgba(255,255,255,.25);}
.icon{width:96px;height:96px;border-radius:14px;overflow:hidden;position:relative;
 background:#0f0a1d;box-shadow:0 0 20px rgba(255,255,255,.45),0 0 30px rgba(124,58,237,.35);cursor:pointer;}
.icon img{width:100%;height:100%;object-fit:contain;animation:rainbowGlow 3s linear infinite;}
@keyframes rainbowGlow{
  0%{filter:drop-shadow(0 0 4px #ff0080);}
  20%{filter:drop-shadow(0 0 4px #ff8c00);}
  40%{filter:drop-shadow(0 0 4px #ffe600);}
  60%{filter:drop-shadow(0 0 4px #21d07a);}
  80%{filter:drop-shadow(0 0 4px #00b3ff);}
  100%{filter:drop-shadow(0 0 4px #7c3aed);}
}
.meta{flex:1}
.name{font-weight:800}
.sub{font-size:12px;opacity:.85}
.buy{padding:8px 12px;border:none;border-radius:10px;background:linear-gradient(90deg,var(--gold),var(--purple));
 color:#fff;font-weight:800;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.4);}
#resetBtn{position:fixed;right:12px;bottom:12px;padding:8px 12px;border-radius:10px;
 background:linear-gradient(90deg,#ffd86d,#7c3aed);border:none;color:#fff;cursor:pointer;font-weight:700;}
footer{font-size:11px;opacity:.6;text-align:center;padding:4px;}
</style>
</head>
<body>
<header>
  <div class="pill">Souls: <span id="souls">0</span></div>
  <div class="pill">Stage: <span id="stage">Ember</span></div>
  <button id="soundBtn" class="btn out">üîá Sound Off</button>
</header>
<div class="xp-wrap">
  <div class="xp"><div id="xpFill" class="xp-fill"></div><div id="xpText" class="xp-text">XP 0 / 100</div></div>
</div>
<div class="arena"><div id="orb" class="orb"></div></div>
<div class="controls">
  <button id="openStore" class="btn">üõí Shop</button>
  <button id="openVault" class="btn">üß¨ Creatures</button>
  <button id="force" class="btn out">‚ö° Force Level-Up</button>
</div>

<!-- STORE -->
<div id="storeModal" class="modal-bg">
 <div class="panel">
   <h2>üõí Reactor Upgrades</h2>
   <div class="store-list">
     <div class="item">
       <div class="icon" data-key="amplifier"><img id="ampImg" src="assets/amplifier.png" alt="Amplifier"/><div class="edit-overlay"></div></div>
       <div class="meta"><div class="name">ü™Ω Amplifier</div><div class="sub">+1 Souls per Tap</div></div>
       <button class="buy" data-up="tap" data-cost="100">Buy 100üí†</button>
     </div>
     <div class="item">
       <div class="icon" data-key="booster"><img id="boostImg" src="assets/booster.png" alt="Booster"/><div class="edit-overlay"></div></div>
       <div class="meta"><div class="name">üî• Booster</div><div class="sub">+1 Souls / sec</div></div>
       <button class="buy" data-up="auto" data-cost="250">Buy 250üí†</button>
     </div>
     <div class="item">
       <div class="icon" data-key="surge"><img id="surgeImg" src="assets/surge.png" alt="Surge"/><div class="edit-overlay"></div></div>
       <div class="meta"><div class="name">‚ö° Surge</div><div class="sub">x2 Global for 10s</div></div>
       <button class="buy" data-up="surge" data-cost="300">Buy 300üí†</button>
     </div>
   </div>
   <div id="storeMsg" style="text-align:center;margin-top:8px;"></div>
   <button id="closeStore" class="btn out" style="width:100%;margin-top:10px;">Close</button>
 </div>
</div>

<!-- VAULT -->
<div id="vaultModal" class="modal-bg">
 <div class="panel">
   <h2>üß¨ Vault of Life</h2>
   <div id="vaultGrid" class="vault-grid">
     <div class="card" data-key="creatureA"><img src="assets/creatureA.png" alt="A"/><div class="edit-overlay"></div><div>A</div></div>
     <div class="card" data-key="creatureB"><img src="assets/creatureB.png" alt="B"/><div class="edit-overlay"></div><div>B</div></div>
     <div class="card" data-key="creatureC"><img src="assets/creatureC.png" alt="C"/><div class="edit-overlay"></div><div>C</div></div>
   </div>
   <button id="closeVault" class="btn out" style="width:100%;margin-top:10px;">Close</button>
 </div>
</div>

<button id="resetBtn">‚ôª Reset Images</button>
<footer>v3.8 ‚Äî Soul Reactor: Creator Mode (Full Cinematic)</footer>

<script>
const LS=window.localStorage;
function saveImg(key,data){LS.setItem("img-"+key,data);}
function loadImg(key){return LS.getItem("img-"+key);}
function resetAll(){if(confirm("Reset all progress and custom images?")){LS.clear();location.reload();}}

document.getElementById("resetBtn").onclick=resetAll;

// image upload logic
function makeEditable(el){
 el.addEventListener("click",()=>{
   const inp=document.createElement("input");
   inp.type="file";inp.accept="image/*";
   inp.onchange=e=>{
     const f=e.target.files[0];if(!f)return;
     const r=new FileReader();
     r.onload=ev=>{
       el.querySelector("img").src=ev.target.result;
       saveImg(el.dataset.key,ev.target.result);
     };
     r.readAsDataURL(f);
   };
   inp.click();
 });
 const saved=loadImg(el.dataset.key);
 if(saved) el.querySelector("img").src=saved;
}

document.querySelectorAll(".icon,[data-key^='creature']").forEach(makeEditable);

// store + vault logic simplified
const storeModal=document.getElementById("storeModal");
const vaultModal=document.getElementById("vaultModal");
document.getElementById("openStore").onclick=()=>{vaultModal.classList.remove("active");storeModal.classList.add("active");};
document.getElementById("openVault").onclick=()=>{storeModal.classList.remove("active");vaultModal.classList.add("active");};
document.getElementById("closeStore").onclick=()=>storeModal.classList.remove("active");
document.getElementById("closeVault").onclick=()=>vaultModal.classList.remove("active");

// simple soul logic
let souls=0,perTap=1,auto=0;
const soulsEl=document.getElementById("souls");
const xpFill=document.getElementById("xpFill"),xpText=document.getElementById("xpText");
function update(){soulsEl.textContent=souls;xpFill.style.width=Math.min(souls,100)+"%";xpText.textContent="XP "+souls+" / 100";}
document.getElementById("orb").onclick=()=>{souls+=perTap;update();};
setInterval(()=>{if(auto>0){souls+=auto;update();}},1000);
document.querySelectorAll(".buy").forEach(btn=>btn.onclick=()=>{const cost=+btn.dataset.cost;if(souls<cost)return; souls-=cost;
 if(btn.dataset.up=="tap")perTap++;else if(btn.dataset.up=="auto")auto++;update();});
document.getElementById("force").onclick=()=>{souls+=50;update();};
update();
</script>
</body>
</html>
